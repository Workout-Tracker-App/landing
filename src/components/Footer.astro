---
import { getRelativeLocaleUrl } from "astro/virtual-modules/i18n.js";
import LanguagePicker from "./LanguagePicker.astro";
import { getLangFromUrl, useTranslations } from "../i18n/utils";
const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const privacyURL = getRelativeLocaleUrl(lang, "privacy-policy");
const accountDeletionURL = getRelativeLocaleUrl(lang, "account-deletion");
---

<footer class="bg-dark text-white py-4">
  <div
    class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between gap-8"
  >
    <!-- Company Info Section -->
    <div class="flex flex-col gap-4">
      <h2 class="text-2xl font-semibold">Postfit</h2>
      <p>
        {t("footer.description")}
      </p>
      <p>&copy; {t("footer.allRightsReserved")}</p>
    </div>

    <!-- Navigation Links -->
    <div class="flex flex-col gap-4">
      <h3 class="text-lg font-medium">{t("nav.quickLinks")}</h3>
      <a
        href={privacyURL}
        class="text-white hover:text-[#DD671D] transition-colors"
        >{t("nav.privacyPolicy")}</a
      >
      <a
        href={accountDeletionURL}
        class="text-white hover:text-[#DD671D] transition-colors"
        >{t("nav.deleteAccount")}</a
      >
    </div>

    <!-- Language Selector -->
    <LanguagePicker />
  </div>
</footer>
